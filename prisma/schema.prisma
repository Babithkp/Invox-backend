generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model User{
  user_id String @id @default(auto()) @map("_id") @db.ObjectId
  email String @unique
  password String
  role String
}

model Company{
  company_id String @id @default(auto()) @map("_id") @db.ObjectId
  name String
  email String @unique
  password String
  address String
  mobile_number String
}

model Item{
  item_id String @id @default(auto()) @map("_id") @db.ObjectId
  item_name String
  item_price Int
  item_quantity Int
  item_description String
  gst Int
  company_id String
}

model Quote{
  quote_id String @id @default(auto()) @map("_id") @db.ObjectId
  quote_number String
  quote_item String
  total_amount Int
}

model Invoice{
  invoice_id String @id @default(auto()) @map("_id") @db.ObjectId
  invoice_number String
  invoice_item String
  payment_method String
  total_amount Int
}

model Payment{
  payment_id String @id @default(auto()) @map("_id") @db.ObjectId
  invoice_id String
  amount Int
  paid_at DateTime
}

model Writeoff{
  write_off_id String @id @default(auto()) @map("_id") @db.ObjectId
  invoice_id String
  amount Int
  reason String
}

model Customer{
  customer_id String @id @default(auto()) @map("_id") @db.ObjectId
  name String
  email String @unique
  address String
  mobile_number String
  customer_gst String
}

model Expense{
  expense_id String @id @default(auto()) @map("_id") @db.ObjectId
  expense_name String
  amount Int
  expense_date String
  created_at DateTime @default(now()) @map("_created_at")
}

model Settings{
  company_id String @id @default(auto()) @map("_id") @db.ObjectId
  company_name String
  company_address String
  company_gst String
  account_details Json
}